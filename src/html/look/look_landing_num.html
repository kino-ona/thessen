<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Language" content="ko-KR">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="format-detection" content="telephone=no">
  <link href="../../resources/css/common.css" media="screen" rel="stylesheet">
  <link href="../../resources/css/look.css" media="screen" rel="stylesheet">
  <title>더쎈카드</title>
</head>

<body>
  <div id="wrap">
    <!-- header -->
    <header id="header" data-ui-fixed='top'>
      <h1 class="page-tit">더쎈포인트 지갑</h1>
      <button type="button" class="btn-back"><i></i></button>
    </header> 
    <!-- //header -->
    <!-- container -->
    <div id="container" class="look-landing">

      <section class="content head-content">
        <!-- 마이데이터 연결 & AI추천 -->
        <div class="content-title-box">
          <h2 class="content-title main">
            <span>김해인</span>님의 <br>
            이번 달 라운딩 가능성 87.3%
            <div class="desc">20만원 아끼는 카드 여기있어요</div>
						<div class="badge">AI 추천</div>
          </h2>
          <div class="content-title figure cta" style="width: 100%;">
            <div id="topSwipe" class="swiper top-swipe">
							<div class="swiper-wrapper">
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
								<div class="swiper-slide">
										<button type="button"><img src="../../resources/images/img_tarocard.svg"></button>
								</div>
							</div>
            </div>
            <div class="cta-desc">카드를 눌러보세요</div>
          </div>
        </div>
        <!--// 마이데이터 연결 & AI추천 -->
      </section>

      <section class="content look-event-content">
        <div class="event-head">
          <p>11월 핫 이벤트</p>
          <span>
            <a href="#" class="more">안내사항</a>
          </span>
        </div>  
        <div class="event-rank_top">
          <a href="#" class="event-link">
            <div class="event-figure"><img src="../../resources/images/dummy/@card01.png"></div>
            <div class="event-info">
              <strong class="info-rank">1위</strong>
              <p class="info-name">Special M edition2</p>
              <p class="info-desc">
                전 가맹점 0.5%, 대형마트 5%, 하나머니 적립, 대형마트 5%, 하나머니 적립
              </p>
              <p class="benefit-tag">16만원 증정</p>
            </div>
          </a>
        </div>
        <div class="event-rank_list">
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">2위
                  <p class="info-name">Special M edition2 Special M edition2</p>
                </strong>
                <p class="info-desc">
                  온라인 쇼핑 10% 할인
                </p>
              </div>
              <p class="benefit-tag">16만원 증정</p>
            </a>
          </div>
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">3위
                  <p class="info-name">KB Pay 챌린지</p>
                </strong>
                <p class="info-desc">
                  온라인 쇼핑 10% 할인
                </p>
              </div>
              <p class="benefit-tag">12만원 증정</p>
            </a>
          </div>
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">4위
                  <p class="info-name">현대 SSG 쓱 망고</p>
                </strong>
                <p class="info-desc">
                  전 가맹점 0.5%, 대형마트 5% 하나머니 적립
                </p>
              </div>
              <p class="benefit-tag">12만원 증정</p>
            </a>
          </div>
					<div class="list-item list-item-banner">
						<div class="text">한 달, 최대 <strong>120만 원</strong> 만드는<br> 카드 이벤트 구경하기</div>
						<div id="countUpNum" class="number"></div>
					</div>
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">2위
                  <p class="info-name">Special M edition2 Special M edition2</p>
                </strong>
                <p class="info-desc">
                  온라인 쇼핑 10% 할인
                </p>
              </div>
              <p class="benefit-tag">16만원 증정</p>
            </a>
          </div>
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">3위
                  <p class="info-name">KB Pay 챌린지</p>
                </strong>
                <p class="info-desc">
                  온라인 쇼핑 10% 할인
                </p>
              </div>
              <p class="benefit-tag">12만원 증정</p>
            </a>
          </div>
          <div class="list-item">
            <a href="#" class="event-link">
              <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
              <div class="event-info">
                <strong class="info-rank">4위
                  <p class="info-name">현대 SSG 쓱 망고</p>
                </strong>
                <p class="info-desc">
                  전 가맹점 0.5%, 대형마트 5% 하나머니 적립
                </p>
              </div>
              <p class="benefit-tag">12만원 증정</p>
            </a>
          </div>
        </div>
      </section>

      <section class="content look-event-swipe">
        <div id="eventSwipe" class="swiper event-swipe">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <a href="#" class="event-link">
                <div class="event-figure"><img src="../../resources/images/dummy/@card01.png"></div>
                <div class="event-info">
                  <p class="info-name">현대 SSG 쓱 망고</p>
                  <p class="info-desc">
                    지금 신청하면 <span>적립 10%혜택</span>을 받을 수 있어요
                  </p>
                </div>
                <p class="benefit-tag">
                  <span>#항공마일리지</span>
                  <span>#외식</span>
                  <span>#배달</span>
                </p>
              </a>
            </div>
            <div class="swiper-slide">
              <a href="#" class="event-link">
                <div class="event-figure"><img src="../../resources/images/dummy/@card02.png"></div>
                <div class="event-info">
                  <p class="info-name">현대 SSG 쓱 망고</p>
                  <p class="info-desc">
                    지금 신청하면 <span>적립 10%혜택</span>을 받을 수 있어요
                  </p>
                </div>
                <p class="benefit-tag">
                  <span>#항공마일리지</span>
                  <span>#외식</span>
                  <span>#배달</span>
                </p>
              </a>
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </section>

      <section class="content cardcorp-content">
        <div class="content-title-box">
          <h2 class="content-title main">
            카드사별 모아보기
          </h2>
          <div class="btn-wrap">
            <a href="#" class="link">지난 이벤트 확인</a>
          </div>
        </div>
        <div class="cardcorp-list">
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_shinhan.svg"></p>
              <p class="item-name">신한</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_samsung.svg"></p>
              <p class="item-name">삼성</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_kookmin.svg"></p>
              <p class="item-name">국민</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_hana.svg"></p>
              <p class="item-name">하나</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_ibk.svg"></p>
              <p class="item-name">IBK 기업</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_lotte.svg"></p>
              <p class="item-name">롯데</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_nh.svg"></p>
              <p class="item-name">농협</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_bc.svg"></p>
              <p class="item-name">비씨</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_hyundai.svg"></p>
              <p class="item-name">현대</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_hyundaidepart.svg"></p>
              <p class="item-name">현대백화점</p>
            </div>
          </button>
          <button class="list-item">
            <div>
              <p class="item-logo"><img src="../../resources/images/logo_woori.svg"></p>
              <p class="item-name">우리</p>
            </div>
          </button>
        </div>
      </section>

    </div>
    <!-- //container -->
  </div>
  <script src="../../resources/js/jquery-1.12.4.min.js"></script>
  <!-- <script src="../../resources/js/swiper-4.5.1.min.js"></script> -->
  <script src="../../resources/js/swiper-bundle.min.js"></script>
  <script src="../../resources/js/design.js"></script>
  <script>
    var swiper = new Swiper("#eventSwipe", {
      pagination: {
        el: ".event-swipe .swiper-pagination",
      },
    });
    var swiper1 = new Swiper("#topSwipe", {
			loop: true,
      loopAdditionalSlides: 1,
			effect: 'coverflow',
			centeredSlides: true,
			slidesPerView: 1.2,
			coverflowEffect: {
				rotate: 0,
				stretch: 160,
				depth: 120,
				modifier: 1.5,
				slideShadows : false,
			}
    });

		function countingUpAnimation(id, tarNum) {
			this.count = 0; this.diff = 0;
			this.tarCount = parseInt(tarNum);
			this.id = document.getElementById(id);
			this.timer = null;
			this.counter();
      console.log('countUpNum');
		};
    countingUpAnimation.prototype.counter = function() {
			var self = this;
			this.diff = this.tarCount - this.count;
	
			if(this.diff > 0) {
				self.count += Math.ceil(this.diff / 5);
			}
	
			this.id.innerHTML = this.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
	
			if(this.count < this.tarCount) {
				this.timer = setTimeout(function() { self.counter(); }, 20);
			} else {
				clearTimeout(this.timer);
			}
    };

    let tarH = document.getElementById("countUpNum").getBoundingClientRect().height;
    let tarPos = document.getElementById("countUpNum").getBoundingClientRect().top;
    let isReachedOnce = false;

    const DefReach = window.addEventListener('scroll', function(){
      let reach = (window.scrollY + window.innerHeight - tarH) - tarPos;
      console.log(reach, isReachedOnce);
    })

    do {           
        if (50 > reach > 0) {
          isReachedOnce = true;
          if ( isReachedOnce ) {
            new countingUpAnimation("countUpNum", 1200000);
          };
          break;
        } 
        else {
          DefReach();
        }
      } while (
        isReachedOnce == false
      );
	</script>
</body>

</html>